<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Spotify Game Player</title>
  <link rel="stylesheet" href="style_new.css"/>
</head>
<body>

<!-- STARTSCREEN (Neon) -->
<div id="startScreen" class="startScreen">
  <div class="startInner">
    <div class="stars"></div>

    <div class="logoStack">
      <div class="neonTitle">HITSTER</div>
      <div class="neonSub">DAS MUSIK-PARTYSPIEL</div>
    </div>

    <div class="hero">
      <div class="speakerGlow">
        <div class="speaker"></div>
      </div>
    </div>

    <button id="btnStart" class="btnNeonPrimary">JETZT SPIELEN</button>
    <button id="btnToSettings" class="btnNeonGhost">SPIELREGELN &amp; EINSTELLUNGEN</button>

    <div class="startFoot">
      <span class="pill">Spotify Web Player</span>
      <span class="pill">QR Scan</span>
      <span class="pill">Party</span>
    </div>
  </div>
</div>

<div id="appShell" class="appShell isHidden">
  <header class="topbar">
    <div class="brand">Spotify Game Player</div>
    <div class="auth">
      <button id="btnLogin">Login</button>
      <button id="btnLogout" class="secondary">Logout</button>
    </div>
  </header>

  <main class="wrap">
    <section class="card">
      <h2>QR-Code</h2>
      <p class="hint">QR-Code kann <code>TRACK_ID</code> oder eine Spotify-URL enthalten.</p>

      <div class="scanRow">
        <button id="btnScan">QR scannen</button>
        <button id="btnStopScan" class="secondary" disabled>Stop</button>
      </div>

      <div id="camBox" class="camBox hidden">
        <div class="camHeader">
          <span>Kamera</span>
          <span class="camHint">Halte den QR-Code in den Rahmen</span>
        </div>
        <div class="camFrame">
          <video id="camVideo" autoplay playsinline muted></video>
          <div class="reticle"></div>
        </div>
      </div>
    </section>

    <section class="card" id="playerCard">
      <h2>Player</h2>

      <div class="transport">
        <button id="btnPlay" aria-label="Play">▶</button>
        <button id="btnPause" class="secondary" aria-label="Pause">⏸</button>
      </div>

      <div class="nextRow">
        <button id="btnNextCard" class="secondary nextCardBtn">Nächste Karte</button>
      </div>

      <div class="seekrow">
        <span id="pos">0:00</span>
        <input id="seek" type="range" min="0" max="1000" value="0"/>
        <span id="dur">0:00</span>
      </div>

      <div class="volrow">
        <label>Lautstärke</label>
        <input id="vol" type="range" min="0" max="100" value="80"/>
      </div>

      <p id="status" class="status">Nicht eingeloggt</p>
    </section>

    <div class="infoSpacer"></div>

    <section class="card infoCard">
      <h3>Song-Infos</h3>
      <div class="nowplaying">
        <img id="cover" class="cover" alt=""/>
        <div class="meta">
          <div id="trackName" class="track">—</div>
          <div id="artistName" class="artist">—</div>
          <a id="spotifyLink" class="link" target="_blank" rel="noopener">Auf Spotify öffnen</a>
        </div>
      </div>
    </section>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/jsqr/dist/jsQR.js"></script>
  <script src="app_new.js"></script>
  <script src="qr.js"></script>
</div>
</body>
</html>
